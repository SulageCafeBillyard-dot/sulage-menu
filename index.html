<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sulage Caffe & Billyard</title>
<style>
:root{
  --bg:#0E3B2E;
  --card:#164D3A;
  --text:#F5F5F5;
  --accent:#F2C94C;
}

*{box-sizing:border-box;font-family:Poppins,Arial,sans-serif}
body{margin:0;background:var(--bg);color:var(--text)}
.container{max-width:520px;margin:auto;padding:20px}
header{text-align:center;margin-bottom:20px}

.title-main{font-size:26px;letter-spacing:2px;margin:6px 0}
.title-sub{font-size:16px;font-weight:500;opacity:.85}
p{font-size:14px;opacity:.9}

.card{
  background:linear-gradient(180deg,#1B5E45,#164D3A);
  border-radius:18px;
  padding:14px;
  margin-bottom:14px;
  box-shadow:0 10px 24px rgba(0,0,0,.35);
}

h3,h4{margin:8px 0}
.menu-item{display:flex;align-items:center;gap:8px;margin-bottom:6px}
.menu-item label{flex:1;display:flex;justify-content:space-between;cursor:pointer}
.price{color:var(--accent);font-weight:bold}
.menu-row{display:flex;align-items:center;justify-content:space-between;gap:6px;margin-bottom:6px;font-size:14px}
select,input[type=checkbox]{padding:4px}
.total{text-align:right;font-size:18px;margin-top:10px}
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:16px;
  background:linear-gradient(135deg,#F2C94C,#C9A227);
  color:#1E1E1E;
  font-size:18px;
  font-weight:bold;
}

.logo-wrap{display:flex;justify-content:center;margin-bottom:14px}
.logo{width:180px;max-width:80%;border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.25)}
.header-logo{width:100%;margin-bottom:16px}
.logo-full{width:100%;height:auto;display:block;border-radius:18px;box-shadow:0 8px 22px rgba(0,0,0,.35)}

@media (max-width:600px){
  .logo-full{width:100vw;max-width:100%;margin-left:calc(-50vw + 50%);border-radius:0}
}

.hero{
  width:100%;
  aspect-ratio:16/9;
  max-height:280px;
  background-image:url('logo-sulage.png');
  background-repeat:no-repeat;
  background-position:center;
  background-size:cover;
  position:relative;
  margin-bottom:16px;
}

.hero::after{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(to bottom,rgba(0,0,0,.1),rgba(0,0,0,.35));
}

@media (max-width:600px){
  .hero{max-height:220px;aspect-ratio:4/3}
}

.menu-row{animation:slideIn .25s ease}
@keyframes slideIn{from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:translateY(0)}}
.menu-row.removing{animation:slideOut .2s ease forwards}
@keyframes slideOut{to{opacity:0;transform:translateY(-8px)}}

.total span{display:inline-block;transition:transform .2s ease}
.total span.bump{transform:scale(1.15)}
.menu-item input[type=checkbox]:checked + label{color: var(--accent);transform: scale(1.02);transition: all .2s ease}
button:active{transform:scale(.96)}
</style>
</head>
<body>
<div class="container">
<header class="hero"></header>

<div class="card">
<input id="nama" placeholder="Nama" style="width:100%;margin-bottom:8px">
<div id="displayMeja"
     style="text-align:center;font-size:20px;font-weight:bold;padding:10px;border-radius:14px;background:#1B5E45;margin-top:8px;">
  ü™ë Meja: -
</div>
<input id="inputMeja" type="number" min="1" placeholder="Masukkan nomor meja" style="width:100%;margin-top:8px;display:none">
</div>

<!-- Menu Items (singkat contoh, bisa diisi lengkap) -->
<div class="card"><h3>‚òï Coffee</h3>
<div class="menu-item"><input type="checkbox" data-type="drink" data-name="Aren Coffee" data-price="28000"><label>Aren Coffee <span class="price">28k</span></label></div>
<div class="menu-item"><input type="checkbox" data-type="drink" data-name="Hazelnut Coffee" data-price="28000"><label>Hazelnut Coffee <span class="price">28k</span></label></div>
</div>

<div class="card">
<h3>üìù Detail Pesanan</h3>
<div id="orders"></div>
<h4>üí≥ Metode Pembayaran</h4>
<label><input type="radio" name="payment" value="Cash" checked> Cash</label><br>
<label><input type="radio" name="payment" value="Transfer"> Transfer</label><br>
<label><input type="radio" name="payment" value="QRIS"> QR / QRIS</label>
<textarea id="catatan" placeholder="Catatan (pedas, less sugar, dll)" style="width:100%;margin-top:8px"></textarea>
<div class="total">Total: <span id="total">Rp0</span></div>
<button onclick="kirimWA()">Konfirmasi ke Admin (WhatsApp)</button>
</div>
</div>

<script>
// ========================
// CART & PESANAN
// ========================
const checks=document.querySelectorAll('input[type=checkbox]');
const orders=document.getElementById('orders');
const totalEl=document.getElementById('total');
let cart={};

checks.forEach(ch=>{
  ch.addEventListener('change',()=>{
    const name=ch.dataset.name;
    const price=+ch.dataset.price;
    if(ch.checked){
      cart[name]={price,qty:1,temp:'Ice',type:ch.dataset.type||'drink'};
    } else { delete cart[name]; }
    render();
  });
});

function render(){
  orders.innerHTML='';
  let total=0;
  Object.keys(cart).forEach(k=>{
    const c=cart[k];
    total += c.price*c.qty;
    orders.innerHTML += `<div class="menu-row"><span>${k}</span>
      ${c.type==='drink'?`<select data-menu="${k}" class="temp">
        <option value="Ice" ${c.temp==='Ice'?'selected':''}>Ice</option>
        <option value="Hot" ${c.temp==='Hot'?'selected':''}>Hot</option>
      </select>`:''}
      <select data-menu="${k}" class="qty">${[1,2,3,4,5,6,7].map(n=>`<option value="${n}" ${c.qty===n?'selected':''}>${n}</option>`).join('')}</select>
      <strong>Rp${(c.price*c.qty).toLocaleString('id-ID')}</strong></div>`;
  });

  document.querySelectorAll('.temp').forEach(sel=>{
    sel.onchange=e=>{cart[e.target.dataset.menu].temp=e.target.value; render();}
  });
  document.querySelectorAll('.qty').forEach(sel=>{
    sel.onchange=e=>{cart[e.target.dataset.menu].qty=parseInt(e.target.value); render();}
  });

  totalEl.innerText='Rp'+total.toLocaleString('id-ID');
  totalEl.classList.add('bump');
  setTimeout(()=>totalEl.classList.remove('bump'),200);
}

// ========================
// AUTO MEJA VIP & REGULAR
// ========================
const params=new URLSearchParams(window.location.search);
const type=params.get('type'); // vip/regular
const mejaParam=params.get('meja');
const display=document.getElementById('displayMeja');
const inputMeja=document.getElementById('inputMeja');
let mejaFinal='-';

if(type==='vip' && mejaParam){
  mejaFinal=`VIP ${mejaParam}`;
  display.innerHTML=`‚≠ê VIP TABLE ${mejaParam}`;
  display.style.background='#F2C94C';
  display.style.color='#1E1E1E';
  inputMeja.style.display='none';
} else {
  display.innerHTML=`ü™ë REGULAR TABLE`;
  inputMeja.style.display='block';
  inputMeja.addEventListener('input',()=>{
    if(inputMeja.value){
      mejaFinal=`Regular ${inputMeja.value}`;
      display.innerHTML=`ü™ë REGULAR TABLE ${inputMeja.value}`;
    } else {
      mejaFinal='-';
      display.innerHTML=`ü™ë REGULAR TABLE`;
    }
  });
}

// ========================
// KIRIM PESAN WA
// ========================
function kirimWA(){
  const nama=document.getElementById('nama').value;
  const payment=document.querySelector('input[name="payment"]:checked')?.value||'-';
  if(!nama||Object.keys(cart).length===0){alert('Lengkapi nama & pesanan');return;}
  if(mejaFinal==='-'){alert('Isi nomor meja');return;}

  let text='',total=0;
  Object.keys(cart).forEach(k=>{
    const c=cart[k];
    const sub=c.price*c.qty;
    total+=sub;
    text+=`- ${k} (${c.temp}) x${c.qty} = Rp${sub.toLocaleString('id-ID')}\n`;
  });

  const pesan=`‚òï PESANAN SULAGE CAFFE & BILLYARD
ü™ë Meja: ${mejaFinal}
üë§ Nama: ${nama}
üí≥ Pembayaran: ${payment}

Pesanan:
${text}
Total: Rp${total.toLocaleString('id-ID')}`;

  window.open('https://wa.me/6281344782047?text='+encodeURIComponent(pesan),'_blank');
}
</script>
</body>
</html>
